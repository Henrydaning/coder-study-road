## vue 自定义网页标签图标不生效的原因和解决办法
vue 中修改浏览器图标不显示

一般方案如下：

- 一般是将当前的 favico 图片放入了 public 文件夹下面，但是这里内容有一些问题，就是当前的图片放入后，需要有一个 index.html 模板，如果没有模板，那么图片不加载。
- vue2 脚手架的处理方式将这里的内容进行图标替换
- vue2 脚手架的另一种处理方式，这里的内容使用一个插件处理：@vue/cli-plugin-pwa
- vue3 配置放入图标

### 方法 1：使用模板：

```
但是第一种方式：部署之后，没有效果，将favicon.ico替换后，不生效。

-------------------------------解决方案1：目前本地启动一个npx http-server -c-1 -p 8999
然后后台启动一个服务项目。
但是此时是有图标的。
但是部署到线上后，不能展示。

-------------------------------解决方案2：
给assets中img里面放入图标favicon.ico图标。

再次使用public中使用图标，引入img文件夹测试

使用live-server测试
live-server --port=9888
还是不行。


-------------------------------问题1和问题2：得出结论。
地址路径的问题。
因为本地环境下，无论是使用favicon.ico在public下，还是在img下面引用这个图标，都可以正常。
或是有没有可能使用错了

-------------------------------问题3：是不是nginx配置的问题。
vue.config是不是配置错误了，查看了半天，发现vue.config默认就是这样。
因为全部vue脚手架下载下来，然后默认都有图标。

除了本地的路径，那是不是线上的路径。
nginx的线上路径，关于location配置内容，增加了一个root  html，自己搭建了一个nginx环境
本地化测试，因为找运维同学太麻烦，运维不相信是自己的问题。

查看自己nginx配置内容：
server {
    listen 8002;
    index index.php index.html;
    error_log  /var/log/nginx/error.log;
    access_log /var/log/nginx/access.log;
    root /var/www/html/mall;

    location / {
          index  index.html index.htm index.php;
          autoindex  off;
     }
    set $virtualdir "";
    set $realdir "";

}

这里没有映射根目录路径，尝试增加一条。
其实这个问题，想的复杂了。和后台没有关系，其实是和ico图标有关系。


```

### 2.真相大白

```

----------------------------------------真相大白-----------
1.favicon图标的特点
- favicon是浏览器收藏图标，但是如果之前没有，之后有了之后，这里的缓存没有变化。
这里使用： <link rel="shortcut" href="/favicon.ico" />

2.favicon需要修改完成后，修改移除cookie内容，缓存。



3.网上的教程似乎有点问题，最后发现下面两种写法有坑
    <!-- <link rel="shortcut icon" href="/favicon.ico" /> 错误的内容-->
    <link rel="shortcut" href="/favicon.ico" />


4.当然如下ico图标内容如下，需要配置nginx
<link rel="icon" href="<%= BASE_URL %>favicon.ico">




```


### 4.关于favicon图标缓存问题

--------------------------------2.关于favicon图标访问的问题
favicon.ico 文件是浏览器收藏网址时显示的图标，
当客户端使用浏览器问页面时，浏览器会自己主动发
起请求获取页面的 favicon.ico 文件，但是当浏览
器请求的 favicon.ico 文件不存在时，服务器会记录404日志，而且浏览器也会显示404报错



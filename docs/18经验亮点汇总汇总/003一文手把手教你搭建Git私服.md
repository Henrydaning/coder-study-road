[一文手把手教你搭建 Git 私服](https://programmercarl.com/qita/gitserver.html)

[手把手教你搭建Git私服](./../16%E5%89%8D%E7%AB%AF%E6%8B%93%E5%B1%95%E7%9F%A5%E8%AF%86%E5%AD%A6%E4%B9%A0/000%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BAGit%E7%A7%81%E6%9C%8D.md)
## 如何将多个 git 项目内容进行同步和合并

多个不同 git 代码项目，进行代码合并同步策略

### （1）特别说明项目源 fork 项目是：

https://github.com/type-challenges/type-challenges.git

#### 第一步加入项目中：

git remote add upstream xxx

#### 第二步拉取远程 fork 最新内容

git fetch upstream

#### 第三步合并必要内容

git merge upstream/main

### （2）没有 fork 的项目，怎样和远程进行代码合并和同步。

如果两个项目不是通过 fork 建立的，

#### git merge upstream/main 后，报错

fatal: refusing to merge unrelated histories

#### 解决方式合并的时候，强行加上允许没有联系的内容

git merge master --allow-unrelated-histories

### （3）## .gitignore 不生效的问题(已经被追踪的文件怎么忽略)

把某些目录或文件加入忽略规则，按照上述方法定义后发现并未生效，原因是.gitignore 只能忽略那些原来没有被追踪的文件，如果某些文件已经被纳入了版本管理中，则修改.gitignore 是无效的。那么解决方法就是先把本地缓存删除（改变成未被追踪状态），然后再提交：

```
1. git rm -r --cached .
2. git add .
3. git commit -m 'update .gitignore'

```



## 添加submodules模块方式和常见命令
1.第一步使用将submodule项目引入
git submodule add https://gitee.com/visual-learning-topic/lowcode-visual-drag-demo.git
注意，这里如果用https,在gitee网站中，无法连接点击，只能使用ssh的链接方式:
git submodule add git@gitee.com:nyhxiaoning/front-end-code-specification.git

注意生成的submodule配置文件根目录，默认在根目录生成项目，如果想要在某一个文件夹下，可以到当前文件夹。

2.第二步子项目如何提交代码
子项目下，git add .  git commit  git push正常提交



### 克隆项目使用submodule方式
（1）git clone下来后，发现其他的子项目是空的。

（2）cd 项目文件夹，执行子项目初始化
git submodule init
git submodule update

（3）有一个比较快捷的方式
git clone main --recursive


### 更新模块
（1）单独更新一个模块
进入当前的子模块的目录，然后git submodule foreach git pull

（2）子模块全部更新
git pull

git submodule update


### 移动子模块
~~~
把前面的模块，移动到后面的文件夹，注意，不要讲后面的加上文件夹，否则多嵌套一层
git mv old/submod new/submod
正确的如下
git mv old/submod new/

~~~

### 删除子模块
手动删除submodules配置文件内容和文件夹，重新更新即可。
~~~
当工程中不再需要子模块,
git submodule deinit -f git_test_sub1

git rm --cached git_test_sub1


~~~

### 注意：
(1)子模块是另一个仓库
(2)注意：.gitmodules文件中的内容相关如果是https不会跳转，但是如果是ssh可以跳转。
~~~
[submodule "scaffold/ToolChain/npmRollupLibStandrad"]
	path = scaffold/ToolChain/npmRollupLibStandrad
    //下面建议都是ssh方式，这样可以在网站下通过文件夹点击进行跳转
	url = git@gitee.com:front-end-tool-development/npmRollupLibStandrad.git

~~~
[一文手把手教你搭建 Git 私服](https://programmercarl.com/qita/gitserver.html)

### 如何将多个 git 项目内容进行同步和合并

多个不同 git 代码项目，进行代码合并同步策略

### （1）特别说明项目源 fork 项目是：

https://github.com/type-challenges/type-challenges.git

#### 第一步加入项目中：

git remote add upstream xxx

#### 第二步拉取远程 fork 最新内容

git fetch upstream

#### 第三步合并必要内容

git merge upstream/main

### （2）没有 fork 的项目，怎样和远程进行代码合并和同步。

如果两个项目不是通过 fork 建立的，

#### git merge upstream/main 后，报错

fatal: refusing to merge unrelated histories

#### 解决方式合并的时候，强行加上允许没有联系的内容

git merge master --allow-unrelated-histories

### （3）## .gitignore 不生效的问题(已经被追踪的文件怎么忽略)

把某些目录或文件加入忽略规则，按照上述方法定义后发现并未生效，原因是.gitignore 只能忽略那些原来没有被追踪的文件，如果某些文件已经被纳入了版本管理中，则修改.gitignore 是无效的。那么解决方法就是先把本地缓存删除（改变成未被追踪状态），然后再提交：

```
1. git rm -r --cached .
2. git add .
3. git commit -m 'update .gitignore'

```
